import{h as _,o as d,c as l,b as e,z as u,A as g,e as p,P as m,j as v}from"./index.d2b5948f.js";import{i as w,D as f}from"./index.edaf6bce.js";import{_ as b}from"./App.8a7f3b43.js";const y={props:["selected","targetFor"],data(){return{canvasContainer:_,elements:[],showDropdown:null,hideDropdown:null}},methods:{setAction(s,t,o,r="func"){this.elements[s].action.length=0,this.elements[s].action.push({src:r,attr:t,value:o}),this.selected.setAttr(this.targetFor+"targetElements",this.elements)},removeElement(s){this.elements.splice(s,1),this.selected.setAttr(this.targetFor+"targetElements",this.elements)},addElement(s,t,o){s.preventDefault(),this.showDropdown.toggle();let r={id:t._id,name:t.name(),action:[],type:t.attrs.type},i=this.elements.findIndex(n=>n.id===r.id);i!=-1?this.elements[i].action=o:this.elements.push(r),this.selected.setAttr(this.targetFor+"targetElements",this.elements)},filterList:function(s){return s.filter(t=>t.getClassName()!=="Transformer"&&t.name()!=="guid-line"&&t.name()!=="anchor"&&t.attrs.type==="video"||t.attrs.type==="audio")}},watch:{selected:function(s){var t,o;this.elements=(o=(t=this.selected.attrs)==null?void 0:t[this.targetFor+"targetElements"])!=null?o:[]}},mounted(){var o,r;w();const s=document.getElementById("addTargetDropdown"),t=document.getElementById("addTargetElements");this.showDropdown=new f(s,t),this.elements=(r=(o=this.selected.attrs)==null?void 0:o[this.targetFor+"targetElements"])!=null?r:[]}},x={class:"rounded-md border-t-gray-600 border-2 px-2 my-2"},k=e("div",null,"Target Elements",-1),E={class:"flex flex-col gap-2 p-1"},C={class:"flex w-full justify-between px-2 py-1 mr-2 text-sm font-medium text-blue-800 bg-blue-100 rounded dark:bg-blue-900 dark:text-blue-300"},D={class:"flex flex-col"},T=["onChange"],A=e("option",null,"---No Action---",-1),B=e("option",{value:"play"},"Play",-1),F=e("option",{value:"pause"},"Pause",-1),L=[A,B,F],N=["onClick"],j=e("svg",{"aria-hidden":"true",class:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),z=e("span",{class:"sr-only"},"Remove",-1),I=[j,z],M={class:"pb-2"},P=e("button",{id:"addTargetElements","data-dropdown-toggle":"addTargetDropdown",class:"text-white w-full bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-1 text-center inline-flex justify-between items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",type:"button"},[p("Add target "),e("svg",{class:"w-4 h-4 ml-2","aria-hidden":"true",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1),V={id:"addTargetDropdown",class:"z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700"},R={class:"py-2 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":"addTargetElements"},S=["onClick"];function q(s,t,o,r,i,n){return d(),l("div",x,[k,e("div",E,[(d(!0),l(u,null,g(i.elements,(a,c)=>(d(),l("div",{key:c},[e("span",C,[e("div",D,[p(m(a.name)+" ",1),a.type==="video"||a.type==="audio"?(d(),l("select",{key:0,onChange:h=>n.setAction(c,"image",h.target.value)},L,40,T)):v("",!0)]),e("button",{type:"button",onClick:h=>n.removeElement(c),class:"inline-flex w-4 h-4 rounded-full items-center p-0.5 ml-2 text-sm bg-transparent text-red-400 hover:bg-red-200 hover:text-red-900 dark:hover:bg-red-800 dark:hover:text-red-300","data-dismiss-target":"#badge-dismiss-green","aria-label":"Remove"},I,8,N)])]))),128))]),e("div",M,[P,e("div",V,[e("ul",R,[(d(!0),l(u,null,g(n.filterList(i.canvasContainer.editor.layer.children).slice().reverse(),(a,c)=>(d(),l("li",{key:c},[e("a",{onClick:h=>n.addElement(h,a,"show"),href:"#",class:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},m(a.name()),9,S)]))),128))])])])])}const K=b(y,[["render",q]]);export{K as default};
