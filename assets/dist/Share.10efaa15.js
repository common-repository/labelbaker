import{bR as n,o as s,c as l,b as i,q as g,j as a,x as m,Z as u,k as v}from"./index.d2b5948f.js";import{_ as c}from"./App.8a7f3b43.js";const h="prappo",b={props:["template"],components:{},data(){return{name:null,selected:null,active:"form",getTPLink:"",getPCode:"",getTLink:"",getPCode:"",getC:""}},setup(){v().appContext.config.globalProperties.appMode;let e=null;return e={},{appUser:e}},methods:{getName(){return this.selected.id},getTemplateLink(){return this.appMode==="noAuth"?this.shareURL+"/"+this.getTemplateID():this.shareURL+"/template/"+this.getTemplateID()},getTemplatePreviewLink(){return this.shareURL+"/preview/"+this.getTemplateID()},getPreviewCode(){return`<div style="position: relative; width: 100%; height: 0; padding-top: 100.0000%;
 padding-bottom: 0; box-shadow: 0 2px 8px 0 rgba(63,69,81,0.16); margin-top: 1.6em; margin-bottom: 0.9em; overflow: hidden;
 border-radius: 8px; will-change: transform;">
  <iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; border: none; padding: 0;margin: 0;"
    src="${this.getTemplatePreviewLink()}" allowfullscreen="allowfullscreen" allow="fullscreen">
  </iframe>
</div>`},getCode(){return`<div style="position: relative; width: 100%; height: 0; padding-top: 100.0000%;
 padding-bottom: 0; box-shadow: 0 2px 8px 0 rgba(63,69,81,0.16); margin-top: 1.6em; margin-bottom: 0.9em; overflow: hidden;
 border-radius: 8px; will-change: transform;">
  <iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; border: none; padding: 0;margin: 0;"
    src="${this.getTemplateLink()}" allowfullscreen="allowfullscreen" allow="fullscreen">
  </iframe>
</div>`},getTemplateID(){return this.selected.category==="my"?this.appMode==="noAuth"?this.selected.id:this.enc("templates/"+this.appUser.email+"/"+this.selected.name):this.enc(this.appUser.email+"_lb_default_"+this.selected.id)},enc(o){var e=n.AES.encrypt(o,h).toString(),p=n.enc.Base64.parse(e),d=p.toString(n.enc.Hex);return d},dec(o){var e=n.enc.Hex.parse(o),p=e.toString(n.enc.Base64),d=n.AES.decrypt(p,h),t=d.toString(n.enc.Utf8);return t}},watch:{template(o,e){this.selected=o}},mounted(){this.selected=this.template,this.getTPLink=this.getTemplatePreviewLink(),this.getPCode=this.getPreviewCode(),this.getTLink=this.getTemplateLink(),this.getC=this.getCode()}},y={key:0,class:"px-5 py-5"},k=i("div",{class:"text-center bg-gray-800 rounded text-white font-semibold py-1"},"Shareable form to generate visuals",-1),w={class:"py-5 flex gap-5"},f={key:0},x=i("h1",{class:"py-5"},"Embed form into your website or web application",-1),C={key:1},_=i("h1",{class:"py-5"},"Embed Preview into your website or web application",-1),T={key:2},L=i("h1",{class:"py-5"},"Form Link",-1),P={key:3},S=i("h1",{class:"py-5"},"Template preview Link",-1);function U(o,e,p,d,t,E){return t.selected?(s(),l("div",y,[k,i("div",w,[i("button",{class:g([{"bg-blue-100 dark:text-gray-900":t.active==="form"},"px-2 py-1 rounded hover:bg-gray-100"]),onClick:e[0]||(e[0]=r=>t.active="form")},"Embed Form",2),o.appMode==="auth"?(s(),l("button",{key:0,class:g([{"bg-blue-100 dark:text-gray-900":t.active==="embed-preview"},"px-2 py-1 rounded hover:bg-gray-100"]),onClick:e[1]||(e[1]=r=>t.active="embed-preview")},"Embed Preview",2)):a("",!0),i("button",{class:g([{"bg-blue-100 dark:text-gray-900":t.active==="link"},"px-2 py-1 rounded hover:bg-gray-100"]),onClick:e[2]||(e[2]=r=>t.active="link")},"Form Link",2),o.appMode==="auth"?(s(),l("button",{key:1,class:g([{"bg-blue-100 dark:text-gray-900":t.active==="preview"},"px-2 py-1 rounded hover:bg-gray-100"]),onClick:e[3]||(e[3]=r=>t.active="preview")},"Preview Link",2)):a("",!0)]),t.active==="form"?(s(),l("div",f,[x,m(i("textarea",{"onUpdate:modelValue":e[4]||(e[4]=r=>t.getC=r)},null,512),[[u,t.getC]])])):a("",!0),t.active==="embed-preview"?(s(),l("div",C,[_,m(i("textarea",{"onUpdate:modelValue":e[5]||(e[5]=r=>t.getPCode=r)},null,512),[[u,t.getPCode]])])):a("",!0),t.active==="link"?(s(),l("div",T,[L,m(i("textarea",{"onUpdate:modelValue":e[6]||(e[6]=r=>t.getTLink=r)},null,512),[[u,t.getTLink]])])):a("",!0),t.active==="preview"?(s(),l("div",P,[S,m(i("textarea",{"onUpdate:modelValue":e[7]||(e[7]=r=>t.getTPLink=r)},null,512),[[u,t.getTPLink]])])):a("",!0)])):a("",!0)}const B=c(b,[["render",U]]);export{B as default};
