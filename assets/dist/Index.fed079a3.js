import{h as I,a as p,o as n,c as l,P as f,j as a,b as c,z as k,A as g,q as m,a0 as x,i as _}from"./index.d2b5948f.js";import{_ as C}from"./App.8a7f3b43.js";import{r as b,a as w}from"./EyeIcon.a72b046c.js";const E={components:{EyeIcon:b,EyeSlashIcon:w},data(){return{canvasContainer:I,selected:null,nameFieldIndex:[]}},methods:{filterList:function(e){return e.filter(h=>h.getClassName()!=="Transformer"&&h.name()!=="guid-line"&&h.name()!=="anchor")},selectElementOnEditor:function(e){this.canvasContainer.editor.transform.nodes([e]),this.selected=e,this.canvasContainer.editor.selectItem(e)},isElementSelected:function(e){return this.selected?!!this.canvasContainer.editor.transform.nodes().includes(e):!1},changeVisiblity:function(e){e.isVisible()?e.hide():e.show()}},mounted(){this.selected=this.canvasContainer.editor.transform.nodes()[0],document.addEventListener("editor_selected_element",e=>{e.data&&(e.data.hasOwnProperty("container")||(this.selected=e.data))})}},F={key:0,class:"text-center w-full text-gray-500"},V={key:1,class:"flex flex-col gap-2"},B={class:"text-center"},S={class:"flex w-full"},D=["onClick","onDblclick"],K={key:0,class:"pr-2"},j=["value","onBlur","onKeyup","onInput"],L={key:1},O=["onClick"],N={key:0,class:""},z=["onDblclick","onClick"],P={key:0,class:"pr-2"},q=["value","onBlur","onKeyup","onInput"],A=["onClick"];function T(e,h,G,H,r,i){const v=p("EyeIcon"),y=p("EyeSlashIcon");return n(),l("div",null,[r.canvasContainer.editor.layer.children.length===1?(n(),l("div",F,f(e.$t("sidebar.elements.noElementFound")),1)):a("",!0),r.canvasContainer.editor.layer.children.length>1?(n(),l("div",V,[c("h1",B,f(e.$t("sidebar.elements.text")),1),(n(!0),l(k,null,g(i.filterList(r.canvasContainer.editor.layer.children).slice().reverse(),(s,d)=>(n(),l("div",{class:m(["relative w-full border-gray-400 rounded shadow-md px-2 py-2 flex flex-col justify-between hover:border-blue-400",{"bg-gray-400 text-white":i.isElementSelected(s)}]),key:d},[c("div",S,[c("div",{onClick:t=>i.selectElementOnEditor(s),onDblclick:t=>r.nameFieldIndex[d]=!0,class:m(["py-1 w-full cursor-pointer",{"text-white font-semibold":i.isElementSelected(s)}])},[r.nameFieldIndex[d]?(n(),l("div",K,[c("input",{value:s.name(),onBlur:t=>r.nameFieldIndex[d]=!1,onKeyup:[x(t=>r.nameFieldIndex[d]=!1,["enter"]),t=>s.name(t.target.value.replace(/\ /g,"_"))],onInput:t=>s.name(t.target.value.replace(/\ /g,"_")),class:"w-full",type:"text"},null,40,j)])):(n(),l("div",L,f(s.name()),1))],42,D),c("button",{onClick:t=>i.changeVisiblity(s)},[s.isVisible()?(n(),_(v,{key:0,class:"w-5 h-5"})):a("",!0),s.isVisible()?a("",!0):(n(),_(y,{key:1,class:"w-5 h-5"}))],8,O)]),s.attrs.type==="group"&&s.children.length!=0?(n(),l("div",N,[(n(!0),l(k,null,g(s.children,(t,u)=>(n(),l("div",{class:"flex justify-between",key:u,onDblclick:o=>r.nameFieldIndex["s"+u]=!0,onClick:o=>i.selectElementOnEditor(t)},[r.nameFieldIndex["s"+u]?(n(),l("div",P,[c("input",{value:t.name(),onBlur:o=>r.nameFieldIndex["s"+u]=!1,onKeyup:[x(o=>r.nameFieldIndex["s"+u]=!1,["enter"]),o=>t.name(o.target.value.replace(/\ /g,"_"))],onInput:o=>t.name(o.target.value.replace(/\ /g,"_")),class:"w-full",type:"text"},null,40,q)])):(n(),l("div",{key:1,class:m([{"text-blue-500 font-semibold":i.isElementSelected(t)},"pl-2 flex justify-between cursor-pointer"])}," - "+f(t.name()),3)),c("button",{onClick:o=>i.changeVisiblity(t)},[t.isVisible()?(n(),_(v,{key:0,class:"w-5 h-5"})):a("",!0),t.isVisible()?a("",!0):(n(),_(y,{key:1,class:"w-5 h-5"}))],8,A)],40,z))),128))])):a("",!0)],2))),128))])):a("",!0)])}const R=C(E,[["render",T]]);export{R as default};
