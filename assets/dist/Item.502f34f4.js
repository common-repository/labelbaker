import{o as n,c as i,b as e,g as k,_ as b,h as x,s as _,T as d,a as y,P as p,d as f,e as c,q as u,j as h}from"./index.d2b5948f.js";import{b as C}from"./template.000ba2c5.js";import{_ as T,s as l}from"./App.8a7f3b43.js";import{i as B,d as M}from"./index.edaf6bce.js";function A(s,t){return n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75z","clip-rule":"evenodd"})])}function D(s,t){return n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M1 6a3 3 0 013-3h12a3 3 0 013 3v8a3 3 0 01-3 3H4a3 3 0 01-3-3V6zm4 1.5a2 2 0 114 0 2 2 0 01-4 0zm2 3a4 4 0 00-3.665 2.395.75.75 0 00.416 1A8.98 8.98 0 007 14.5a8.98 8.98 0 003.249-.604.75.75 0 00.416-1.001A4.001 4.001 0 007 10.5zm5-3.75a.75.75 0 01.75-.75h2.5a.75.75 0 010 1.5h-2.5a.75.75 0 01-.75-.75zm0 6.5a.75.75 0 01.75-.75h2.5a.75.75 0 010 1.5h-2.5a.75.75 0 01-.75-.75zm.75-4a.75.75 0 000 1.5h2.5a.75.75 0 000-1.5h-2.5z","clip-rule":"evenodd"})])}const I=k(()=>b(()=>import("./Index.3777a1e0.js"),["./Index.3777a1e0.js","./index.d2b5948f.js","./index.cfbf16fc.css","./editor.0b27adde.js","./App.8a7f3b43.js","./data.580994c3.js","./Index.8ce51d75.css"],import.meta.url)),V={props:["template","type"],emits:["getTemplates"],components:{Widget:I,CalendarIcon:A,IdentificationIcon:D},data(){return{canvasContainer:x,store:_,TempData:d,templateName:"",stats:l,showDeleteModal:!1,selected:null,defaultBtnClass:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"}},methods:{showDeleteConfirmation(){d.changeTemplateId=this.template.id,d.changeTemplateName=this.template.name,l.showDeleteModal=!0},shareTemplate(){l.showShareModal=!0},getTemplateName(){return"hm "+this.template.name},setOptions(s,t=""){l.isBusy=!0,d.optionType=s,d.optionTitle=t,C(this.template,this.serverEndpoint,this.apiEndpoint,"",this.appMode).then(a=>{l.isBusy=!1,d.selectedTemplate=a,l.showWidgetModal=!0}).catch(a=>{l.isBusy=!1})},getShortcode(){let s="";this.getType()==="banner"&&(s=`[labelbaker_banner id='${this.template.id}' width='100%']`),this.getType()==="popup"&&(s=`[labelbaker_popup width='500px' show_once='true' id='${this.template.id}']`),this.getType()==="app"&&(s=`[labelbaker_app width='100%' id='${this.template.id}']`),d.shortCode=s,l.showShortcodeModal=!0},getType(){return this.type?this.type:"banner"},editTemplateName(){d.changeTemplateId=this.template.id,d.changeTemplateName=this.template.name,l.editNameModal=!0},editDispalyRules(){l.showDisplayRulesModal=!0},editBannerTemplate(){window.location.href="#/editor/"+this.template.id},getData(s){const t=new Date(s),a=t.getFullYear(),w=("0"+(t.getMonth()+1)).slice(-2),g=("0"+t.getDate()).slice(-2),r=("0"+t.getHours()).slice(-2),m=("0"+t.getMinutes()).slice(-2),v=("0"+t.getSeconds()).slice(-2);return`${a}-${w}-${g} ${r}:${m}:${v}`}},mounted(){B(),M(),this.templateName=this.template.name}},z={class:"bg-white w-full flex justify-between rounded-md dark:bg-gray-800 shadow relative hover:ring-2 hover:ring-blue-500 hover:shadow-lg"},N={class:"flex p-3 w-2/3 items-center gap-2 font-medium text-gray-900 dark:text-white border-gray-200 border-opacity-75 dark:border-gray-700"},L=["src"],j={class:"flex h-full flex-col gap-2 justify-between px-3"},H={class:"text-2xl"},S={class:"flex flex-col gap-2"},E={class:"flex gap-2 text-gray-500"},O={class:"flex gap-2 text-gray-500"},P={class:"flex items-center gap-5 justify-start px-5 w-full"},R={class:"flex items-center justify-end gap-5 w-full"},G={key:0},Z={key:1},W={key:2},q={key:3},F={key:4},Y={key:5},J={key:6},K=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5"})],-1),Q=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),U=["data-dropdown-toggle"],X=e("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 4 15"},[e("path",{d:"M3.5 1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm0 6.041a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm0 5.959a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"})],-1),$=[X],ee=["id"],te={class:"py-2 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":"dropdownMenuIconButton"},re={class:"flex items-center cursor-pointer px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},oe=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 mr-2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),ae=e("div",{class:"flex items-center cursor-pointer px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 mr-2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"})]),c(" Change Name ")],-1),se=[ae],ne=e("div",{class:"flex items-center cursor-pointer px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 mr-2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})]),c(" Edit display rules ")],-1),ie=[ne],le=e("div",{class:"flex items-center cursor-pointer px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 mr-2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})]),c(" Delete ")],-1),de=[le];function he(s,t,a,w,g,r){const m=y("IdentificationIcon"),v=y("CalendarIcon");return n(),i("div",z,[e("div",N,[e("img",{src:a.template.preview,class:"w-36 ring-1 rounded-md dark:bg-white"},null,8,L),e("div",j,[e("div",H,p(a.template.name),1),e("div",S,[e("div",E,[f(m,{class:"w-5 h-5"}),c(" "+p(a.template.id),1)]),e("div",O,[f(v,{class:"w-5 h-5"}),c(" "+p(r.getData(a.template.updatedAt)),1)])])])]),e("div",P,[e("div",R,[this.type==="generator"?(n(),i("div",G,[e("button",{class:u(g.defaultBtnClass),onClick:t[0]||(t[0]=o=>r.setOptions("export","Generator"))}," Generate ",2)])):h("",!0),this.type==="thumbnail"?(n(),i("div",Z,[e("button",{class:u(g.defaultBtnClass),onClick:t[1]||(t[1]=o=>r.setOptions("thumbnail","Thumbnail"))}," Set Thumbnail ",2)])):h("",!0),this.type==="email"?(n(),i("div",W,[e("button",{class:u(g.defaultBtnClass),onClick:t[2]||(t[2]=o=>r.setOptions("email","Email"))}," Send Email ",2)])):h("",!0),this.type==="product"?(n(),i("div",q,[e("button",{class:u(g.defaultBtnClass),onClick:t[3]||(t[3]=o=>r.setOptions("productImage","Product Image"))}," Set Product Image ",2)])):h("",!0),this.type==="label"?(n(),i("div",F,[e("button",{class:u(g.defaultBtnClass),onClick:t[4]||(t[4]=o=>r.setOptions("print","Generate Label"))}," Generate Label ",2)])):h("",!0),this.type==="banner"||this.type==="popup"||this.type==="app"||this.type==="generator"?(n(),i("div",Y,[e("button",{onClick:t[5]||(t[5]=(...o)=>r.shareTemplate&&r.shareTemplate(...o)),type:"button",class:"text-gray-900 hover:text-white border border-gray-800 hover:bg-gray-900 focus:ring-4 focus:outline-none focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:border-gray-600 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-800"}," Share ")])):h("",!0),this.type==="banner"||this.type==="popup"||this.type==="app"?(n(),i("div",J,[e("button",{class:"text-white flex items-center gap-2 bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700",onClick:t[6]||(t[6]=o=>r.getShortcode())},[K,c(" Shortcode ")])])):h("",!0),e("button",{class:"py-2 px-5 flex gap-2 items-center text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",onClick:t[7]||(t[7]=o=>r.setOptions("previewMode","Preview"))},[Q,c(" Preview ")]),e("button",{id:"dropdownMenuIconButton","data-dropdown-toggle":a.template.id,class:"inline-flex items-center p-2 text-sm font-medium text-center text-gray-900 bg-white rounded-lg hover:bg-gray-100 focus:ring-4 focus:outline-none dark:text-white focus:ring-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-600",type:"button"},$,8,U),e("div",{id:a.template.id,class:"z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700 dark:divide-gray-600"},[e("ul",te,[e("li",{onClick:t[8]||(t[8]=(...o)=>r.editBannerTemplate&&r.editBannerTemplate(...o))},[e("div",re,[oe,c(" Edit "+p(a.type),1)])]),e("li",{onClick:t[9]||(t[9]=(...o)=>r.editTemplateName&&r.editTemplateName(...o))},se),a.type==="banner"||a.type==="popup"||a.type==="app"?(n(),i("li",{key:0,onClick:t[10]||(t[10]=(...o)=>r.editDispalyRules&&r.editDispalyRules(...o))},ie)):h("",!0),e("li",{onClick:t[11]||(t[11]=o=>r.showDeleteConfirmation())},de)])],8,ee)])])])}const me=T(V,[["render",he]]);export{me as default};
