import{E as C,K as k}from"./editor.0b27adde.js";import{s as x,h as s,p as b,T as w,a as p,o as h,c,b as e,P as o,z as H,A as W,j as P,e as f,x as _,$ as L,d as y,w as I,a0 as S}from"./index.d2b5948f.js";import{_ as T}from"./App.8a7f3b43.js";import{r as j}from"./CheckCircleIcon.4bec3b53.js";import"https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenLite.min.js";import"https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TimelineLite.min.js";const g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]},z={name:"DocumentSettings",props:["editor"],components:{CheckCircleIcon:j},data(){return{myEditor:null,sheets:g,selected:"a4",pageWidth:595.28,pageHeight:841.89,cell:null,cellWidth:10,cellHeight:10,store:x,canvasContainer:s,sameAsDocument:!1}},methods:{isCustomSize:function(){for(const a in g){let[t,n]=g[a];if(t!==this.pageWidth&&n!==this.pageHeight)return!0}return!1},getPageFormat(a,t){let n=!1;for(const d in g){let[i,l]=g[d];i===a&&l===t&&(n=d)}return n},setPageWidth:function(a){let t=parseInt(a.target.value);t>0&&(this.pageWidth=t),this.fit()},setPageHeight:function(a){let t=parseInt(a.target.value);t>0&&(this.pageHeight=t),this.fit()},setPageSize:function(a){let t=a.target.value;if(this.selected=t,t!=="custom"){var[n,d]=g[a.target.value];this.pageWidth=n,this.pageHeight=d}this.fit()},fit:function(){this.myEditor.editorWidth=this.pageWidth,this.myEditor.editorHeight=this.pageHeight,this.myEditor.fitIntoContainer(),this.sameAsDocument&&(this.cellWidth=this.pageWidth,this.cellHeight=this.pageHeight,this.cell.width(this.pageWidth),this.cell.height(this.pageHeight))},setCellWidth:function(a){let t=parseInt(a.target.value);t>0&&(this.cellWidth=t,this.cell.width(t)),this.fit()},setCellHeight:function(a){let t=parseInt(a.target.value);t>0&&(this.cellHeight=t,this.cell.height(t)),this.fit()},rulerControl:function(){this.canvasContainer.enableRuler?this.canvasContainer.editor.enableRuler=!0:this.canvasContainer.editor.enableRuler=!1,this.canvasContainer.editor.ruler.addRuler()},gridControl:function(){this.canvasContainer.enableGrid?this.canvasContainer.editor.enableGrid=!0:this.canvasContainer.editor.enableGrid=!1,this.canvasContainer.editor.grid.addGrid()},saveContainer:function(){this.canvasContainer.cellWidth=this.cellWidth,this.canvasContainer.cellHeight=this.cellHeight,this.canvasContainer.pageHeight=this.pageHeight,this.canvasContainer.pageWidth=this.pageWidth,this.canvasContainer.format=this.selected,this.editor.editorWidth=this.cellWidth,this.editor.editorHeight=this.cellHeight,this.editor.fitIntoContainer(),this.editor.grid.addGrid(),this.editor.ruler.addRuler();const a=b();s.useLayout=!1,a.success("Page settings applied !",{position:"bottom-center",timeout:2e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})},applyLayout:function(){this.canvasContainer.cellWidth=this.canvasContainer.layoutCellWidth,this.canvasContainer.cellHeight=this.canvasContainer.layoutCellHeight,this.canvasContainer.pageHeight=this.canvasContainer.layoutPageHeight,this.canvasContainer.pageWidth=this.canvasContainer.layoutPageWidth,this.selected=this.getPageFormat(this.canvasContainer.layoutPageWidth,this.canvasContainer.layoutPageHeight),this.selected||(this.selected="custom"),this.canvasContainer.format=this.selected,this.cell.x(this.canvasContainer.layoutCellPaddingLeft),this.cell.y(this.canvasContainer.layoutCellPaddingTop),this.cellWidth=this.canvasContainer.layoutCellWidth,this.cellHeight=this.canvasContainer.layoutCellHeight,this.pageWidth=this.canvasContainer.layoutPageWidth,this.pageHeight=this.canvasContainer.layoutPageHeight,this.canvasContainer.pageMarginLeft=parseInt(this.canvasContainer.layoutPageMarginLeft),this.canvasContainer.pageMarginTop=this.canvasContainer.layoutPageMarginTop,this.canvasContainer.cellPaddingLeft=parseInt(this.canvasContainer.layoutCellPaddingLeft),this.canvasContainer.cellPaddingTop=parseInt(this.canvasContainer.layoutCellPaddingTop),this.myEditor.editorWidth=this.canvasContainer.layoutPageWidth,this.myEditor.editorHeight=this.canvasContainer.layoutPageHeight,this.myEditor.fitIntoContainer(),this.cell.width(this.canvasContainer.layoutCellWidth),this.cell.height(this.canvasContainer.layoutCellHeight),this.editor.editorWidth=this.canvasContainer.layoutCellWidth,this.editor.editorHeight=this.canvasContainer.layoutCellHeight,this.editor.background.width(this.editor.editor.width()),this.editor.background.height(this.editor.editor.height()),this.editor.fitIntoContainer(),this.rulerControl(),this.gridControl();const a=b();s.useLayout=!1,a.success("Page settings applied !",{position:"bottom-center",timeout:2e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}},mounted(){const a={pageWidth:s.pageWidth,pageHeight:s.pageHeight,width:s.pageWidth,height:s.pageHeight,container:"preview-canvas",containerWrapper:"preview-canvas-holder"},t=new C(a);this.myEditor=t;const n=t.layer;this.pageWidth=s.pageWidth,this.pageHeight=s.pageHeight,this.cellPaddingTop=s.cellPaddingTop,this.cellPaddingLeft=s.cellPaddingLeft,this.cellWidth=s.cellWidth,this.cellHeight=s.cellHeight,this.selected=s.format;var d=new k.Rect({x:s.cellPaddingLeft,y:s.cellPaddingTop,width:s.cellWidth,height:s.cellHeight,fill:"#3C81F6",stroke:"black",strokeWidth:.5});this.cell=d,n.add(d),this.fit(),w.document=this},watch:{sameAsDocument:function(a,t){a&&this.fit()}}},E={class:"w-full flex flex-col gap-2"},M={class:"w-full px-10 flex justify-center flex-col"},B=e("div",{class:"flex justify-center",id:"preview-canvas-holder",style:{width:"100%",height:"100px"}},[e("div",{id:"preview-canvas"})],-1),D={class:"w-full text-center"},V={class:"w-full flex flex-col gap-2"},O={class:"flex justify-between"},A={class:"block mb-1 text-sm w-full font-medium text-gray-900 dark:text-gray-400"},F={class:"flex gap-5 justify-between"},R=["value"],G=["value"],N=["selected"],K=["selected","value"],U={key:0,class:"w-full border-2 rounded p-2 hover:shadow-xl"},Y={class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-400"},q={class:"flex gap-5 justify-between"},J=["value"],Q=["value"],X={class:"w-full border-blue-500 border-2 rounded p-2 hover:shadow-xl"},Z={class:"mb-2 text-sm font-medium text-gray-900 dark:text-gray-400 flex gap-5 justify-between"},$=e("div",{class:"shadow",style:{height:"20px",width:"20px",background:"#3c81f6"}},null,-1),ee={class:"flex gap-5 justify-between"},te=["value"],ae=["value"],re={class:"flex gap-5 justify-between"},ie=["value"],se=["value"],le={class:"flex items-center mb-4"},oe={for:"default-checkbox",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},ne={style:{height:"100vh"},class:"flex justify-center items-center h-full w-full"},de={class:"relative w-full mx-3 max-w-md h-full md:h-auto"},ge={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},ue=e("button",{type:"button",class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white"},[e("svg",{"aria-hidden":"true",class:"w-5 h-5 hidden",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})]),e("span",{class:"sr-only"},"Close modal")],-1),he={class:"md:p-6 p-2 flex flex-col gap-3 text-center"},ce=e("svg",{"aria-hidden":"true",class:"mx-auto hidden mb-4 w-14 h-14 text-gray-400 dark:text-gray-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),be=e("h3",{class:"md:mb-5 mt-5 text-lg font-normal text-gray-500 dark:text-gray-400"}," You want to change layout? ",-1);function pe(a,t,n,d,i,l){const v=p("vue-final-modal"),m=p("CheckCircleIcon");return h(),c("div",E,[e("div",M,[B,e("small",D,o(i.pageWidth)+" px , "+o(i.pageHeight)+" px ",1)]),e("div",V,[e("div",O,[e("h1",A,o(a.$t("sidebar.pageSettings.text")),1)]),e("div",F,[e("div",null,[e("small",null,o(a.$t("sidebar.pageSettings.marginLeft")),1),e("input",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full px-2 py-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",type:"number",onInput:t[0]||(t[0]=r=>i.canvasContainer.pageMarginLeft=parseInt(r.target.value)),value:i.canvasContainer.pageMarginLeft},null,40,R)]),e("div",null,[e("small",null,o(a.$t("sidebar.pageSettings.marginTop")),1),e("input",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full px-2 py-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onInput:t[1]||(t[1]=r=>i.canvasContainer.pageMarginTop=r.target.value),type:"number",value:i.canvasContainer.pageMarginTop},null,40,G)])]),e("select",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full px-2 py-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:t[2]||(t[2]=(...r)=>l.setPageSize&&l.setPageSize(...r))},[e("option",{selected:l.isCustomSize(),value:"custom"},"Custom size",8,N),(h(!0),c(H,null,W(i.sheets,(r,u)=>(h(),c("option",{selected:i.selected===u,key:u,value:u},o(u.toUpperCase()),9,K))),128))],32),i.selected==="custom"?(h(),c("div",U,[e("h1",Y,o(a.$t("sidebar.pageSettings.customPageSize")),1),e("div",q,[e("div",null,[e("small",null,o(a.$t("common.width")),1),e("input",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full px-2 py-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",type:"number",onInput:t[3]||(t[3]=(...r)=>l.setPageWidth&&l.setPageWidth(...r)),value:i.pageWidth},null,40,J)]),e("div",null,[e("small",null,o(a.$t("common.height")),1),e("input",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full px-2 py-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onInput:t[4]||(t[4]=(...r)=>l.setPageHeight&&l.setPageHeight(...r)),type:"number",value:i.pageHeight},null,40,Q)])])])):P("",!0),e("div",X,[e("h1",Z,[f(o(a.$t("sidebar.pageSettings.labelSize"))+" ",1),$]),e("div",ee,[e("div",null,[e("small",null,o(a.$t("common.width")),1),e("input",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full px-2 py-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",type:"number",onInput:t[5]||(t[5]=(...r)=>l.setCellWidth&&l.setCellWidth(...r)),value:i.cellWidth},null,40,te)]),e("div",null,[e("small",null,o(a.$t("common.height")),1),e("input",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full px-2 py-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onInput:t[6]||(t[6]=(...r)=>l.setCellHeight&&l.setCellHeight(...r)),value:i.cellHeight,type:"number"},null,40,ae)])]),e("div",re,[e("div",null,[e("small",null,o(a.$t("sidebar.pageSettings.paddingLeft")),1),e("input",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full px-2 py-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",type:"number",onInput:t[7]||(t[7]=r=>{i.canvasContainer.cellPaddingLeft=parseInt(r.target.value),i.cell.x(r.target.value)}),value:i.canvasContainer.cellPaddingLeft},null,40,ie)]),e("div",null,[e("small",null,o(a.$t("sidebar.pageSettings.paddingTop")),1),e("input",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full px-2 py-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onInput:t[8]||(t[8]=r=>{i.canvasContainer.cellPaddingTop=parseInt(r.target.value),i.cell.y(r.target.value)}),value:i.canvasContainer.cellPaddingTop,type:"number"},null,40,se)])])]),e("div",le,[_(e("input",{"onUpdate:modelValue":t[9]||(t[9]=r=>i.sameAsDocument=r),id:"default-checkbox",type:"checkbox",value:"",class:"w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[L,i.sameAsDocument]]),e("label",oe,o(a.$t("sidebar.pageSettings.sameAsPageSize")),1)]),y(v,{class:"absolute",onKeydown:t[12]||(t[12]=S(r=>i.canvasContainer.useLayout=!1,["esc"])),modelValue:i.canvasContainer.useLayout,"onUpdate:modelValue":t[13]||(t[13]=r=>i.canvasContainer.useLayout=r),style:{"z-index":"9999999",position:"absolute"},classes:"modal-container","content-class":"modal-content"},{default:I(()=>[e("div",ne,[e("div",de,[e("div",ge,[ue,e("div",he,[ce,be,e("button",{onClick:t[10]||(t[10]=(...r)=>l.applyLayout&&l.applyLayout(...r)),type:"button",class:"text-white bg-green-500 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center justify-center px-1 md:px-5 py-2.5 text-center mr-2"}," Yes, I'm sure "),e("button",{type:"button",onClick:t[11]||(t[11]=r=>i.canvasContainer.useLayout=!1),class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," No, cancel ")])])])])]),_:1},8,["modelValue"]),e("button",{class:"h-8 flex items-center gap-2 px-3 rounded-md shadow text-white justify-center hover:shadow-lg bg-green-500",onClick:t[14]||(t[14]=(...r)=>l.saveContainer&&l.saveContainer(...r))},[y(m,{class:"w-5 h-5"}),f(" "+o(a.$t("sidebar.pageSettings.apply")),1)])])])}const xe=T(z,[["render",pe]]);export{xe as default};
