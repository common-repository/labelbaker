import{h as l,o as i,c as a,b as e,P as d,j as c,e as u}from"./index.d2b5948f.js";import{i as y}from"./index.edaf6bce.js";import{_ as p}from"./App.8a7f3b43.js";const k={props:["editor"],data(){return{canvasContainer:l}},methods:{downloadAsImage:function(){if(l.editor.selected===null){alert("You can't download multiple element at the same time");return}this.downloadURI(l.editor.selected.toDataURL(),"element.png")},downloadAsJSON:function(){this.downloadURI(l.editor.selected.toJSON(),"element.json")},downloadURI(r,t){var o=document.createElement("a");o.download=t,o.href=r,document.body.appendChild(o),o.click(),document.body.removeChild(o)},boot(){setTimeout(()=>{let r=l.editor.editor;var t=document.getElementById("context-menu");window.addEventListener("click",o=>{o.target.getAttribute("data-dropdown-toggle")!=="doubleDropdown"&&(t.style.display="none")}),r.on("contextmenu",function(o){if(o.evt.preventDefault(),o.target.getClassName()!=="Stage"&&o.target.name()!=="stageBackground"){o.target.getClassName()==="Shape"?l.editor.selected:o.target,t.style.display="initial";var s=r.container().getBoundingClientRect();t.style.top=s.top+r.getPointerPosition().y+4+"px",t.style.left=s.left+r.getPointerPosition().x+4+"px"}})},500)}},mounted(){this.boot(),y()}},h={key:0},b={id:"context-menu",style:{display:"none"},class:"absolute z-50 w-44 bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700 dark:divide-gray-600 backdrop-blur-sm bg-slate-50/90"},m={class:"py-1 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":"multiLevelDropdownButton"},w={key:0},x={class:"flex gap-2"},f={key:0},C={key:1},S={class:"flex gap-2"},D={class:"flex gap-2"},$={id:"doubleDropdownButton","data-dropdown-toggle":"doubleDropdown","data-dropdown-placement":"right-start",type:"button",class:"flex justify-between items-center py-2 px-4 w-full hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},B=e("svg",{"aria-hidden":"true",class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),N={id:"doubleDropdown",class:"hidden z-10 w-44 bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700 backdrop-blur-sm bg-slate-50/90"},I={class:"py-1 text-sm text-gray-700 dark:text-gray-200"};function U(r,t,o,s,v,g){return v.canvasContainer.editor?(i(),a("div",h,[e("div",b,[e("ul",m,[e("li",null,[e("div",{onClick:t[0]||(t[0]=n=>o.editor.deleteSelected()),class:"block py-2 px-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},d(r.$t("context.delete")),1)]),e("li",null,[e("div",{onClick:t[1]||(t[1]=n=>o.editor.duplicateSelected()),class:"block py-2 px-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},d(r.$t("context.duplicate")),1)]),e("li",null,[e("div",{onClick:t[2]||(t[2]=n=>o.editor.copyStyle()),class:"block py-2 px-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},d(r.$t("context.copyStyle")),1)]),o.editor.copiedStyle&&o.editor.selected?(i(),a("li",w,[e("div",{onClick:t[3]||(t[3]=n=>o.editor.pasteStyle()),class:"block py-2 px-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},d(r.$t("context.pasteStyle")),1)])):c("",!0),e("li",null,[e("div",{onClick:t[4]||(t[4]=n=>o.editor.groupSelected()),class:"block py-2 px-4 hover:bg-gray-100 cursor-pointer dark:hover:bg-gray-600 dark:hover:text-white"},d(r.$t("context.group")),1)]),e("li",null,[e("div",{onClick:t[5]||(t[5]=n=>o.editor.lockUnlock()),class:"block py-2 px-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},[e("div",x,[o.editor.isLocked()?(i(),a("span",f,d(r.$t("context.unlock")),1)):(i(),a("span",C,d(r.$t("context.lock")),1)),e("span",null,d(r.$t("context.movement")),1)])])]),e("li",null,[e("div",{onClick:t[6]||(t[6]=n=>o.editor.moveUp()),class:"block py-2 px-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},[e("div",S,d(r.$t("context.moveUp")),1)])]),e("li",null,[e("div",{onClick:t[7]||(t[7]=n=>o.editor.moveDown()),class:"block py-2 px-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},[e("div",D,d(r.$t("context.moveDown")),1)])]),e("li",null,[e("button",$,[u(d(r.$t("context.exportAs")),1),B]),e("div",N,[e("ul",I,[e("li",null,[e("div",{onClick:t[8]||(t[8]=(...n)=>g.downloadAsImage&&g.downloadAsImage(...n)),class:"block py-2 px-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},d(r.$t("context.image")),1)])])])])])])])):c("",!0)}const P=p(k,[["render",U]]);export{P as default};
